"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[792],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||o;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9594:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return p}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=["components"],i={},s="Install Mazzaroth",c={unversionedId:"Tutorials/Install_Mazzaroth",id:"Tutorials/Install_Mazzaroth",title:"Install Mazzaroth",description:"Mazzaroth is provided as an image on Docker Hub,",source:"@site/../docs/5-Tutorials/1-Install_Mazzaroth.md",sourceDirName:"5-Tutorials",slug:"/Tutorials/Install_Mazzaroth",permalink:"/docs/docs/Tutorials/Install_Mazzaroth",editUrl:"https://github.com/kochavalabs/docs/tree/main/../docs/5-Tutorials/1-Install_Mazzaroth.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"XDR RS Serialize",permalink:"/docs/docs/Developer_Tools/XDR_RS_Serialize"},next:{title:"Deploying a Channel",permalink:"/docs/docs/Tutorials/Deploying_a_Channel"}},u={},p=[{value:"Pulling Image",id:"pulling-image",level:2},{value:"Running a Node",id:"running-a-node",level:2},{value:"Setting HTTP Port",id:"setting-http-port",level:3},{value:"Mounting the Data Directory",id:"mounting-the-data-directory",level:3}],d={toc:p};function h(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"install-mazzaroth"},"Install Mazzaroth"),(0,o.kt)("p",null,"Mazzaroth is provided as an image on ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/kochavalabs/mazzaroth"},"Docker Hub"),",\nwhich means that it can be run on any platform."),(0,o.kt)("p",null,"All you will need to begin is to have Docker installed, which you can find ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},"here"),"."),(0,o.kt)("h2",{id:"pulling-image"},"Pulling Image"),(0,o.kt)("p",null,"You can install the latest version of the Mazzaroth Image by running the\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/commandline/pull/"},"docker pull")," command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker pull kochavalabs/mazzaroth\n")),(0,o.kt)("p",null,"If you would like to specify a specific version of Mazzaroth include the tag, i.e:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker pull kochavalabs/mazzaroth:0.8.0\n")),(0,o.kt)("p",null,"You can find a list of the current image tags on ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/kochavalabs/mazzaroth/tags"},"Docker Hub"),"."),(0,o.kt)("h2",{id:"running-a-node"},"Running a Node"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/commandline/run/"},"docker run"),"\ncommand to create and start a container using the Mazzaroth image."),(0,o.kt)("p",null,"Running the Mazzaroth image with no arguments will list the usage information"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker run kochavalabs/mazzaroth\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},'Mazzaroth allows you to start a server or interact as a client.\n\nUsage:\n  mazzaroth [command]\n\nAvailable Commands:\n  completion  Generate the autocompletion script for the specified shell\n  help        Help about any command\n  node        mazzaroth node resource\n  recover     Recovery utilities to retrieve data from persistent storage without starting a node.\n\nFlags:\n      --cfg-path string   config file (default is config.yaml)\n  -h, --help              help for mazzaroth\n\nUse "mazzaroth [command] --help" for more information about a command.\n')),(0,o.kt)("p",null,"Mazzaroth arguments and flags can be provided with the command to docker run.\nFor example, to get a listing of all of the available flags and descriptions for\nthe Mazzaroth node start standalone command use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker run kochavalabs/mazzaroth node start standalone --help\n")),(0,o.kt)("p",null,"There are a couple of options you will likely want to provide to the run command.\nExamples are provided below."),(0,o.kt)("h3",{id:"setting-http-port"},"Setting HTTP Port"),(0,o.kt)("p",null,"At the very least, to interact with a node you will want to expose the http port.\nThis can be done by using the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/commandline/run/#publish-or-expose-port--p---expose"},"-p option"),"\nwith the docker run command.\nThe default http port is 6299, but this can be changed by providing a flag to the\nMazzaroth command itself."),(0,o.kt)("p",null,"Using the default value with 6299 exposed:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker run -p 6299:6299 kochavalabs/mazzaroth node start standalone\n")),(0,o.kt)("p",null,"Providing a configured http port:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker run -p 6300:6300 kochavalabs/mazzaroth node start standalone --node.network.rpc.port 6300\n")),(0,o.kt)("h3",{id:"mounting-the-data-directory"},"Mounting the Data Directory"),(0,o.kt)("p",null,"With the default docker run command Mazzaroth will write persistent state\ndata to the container itself. So if the container is brought down or restarted\nthen any data that was written will be lost. This might be okay if you are just\nusing a node for testing or development, but you may also want to persist data\nso that a node can be restarted from an existing ledger."),(0,o.kt)("p",null,"You can bind host directories using the docker run ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/commandline/run/#add-bind-mounts-or-volumes-using-the---mount-flag"},"--mount"),"\noption."),(0,o.kt)("p",null,"With the mount option using type ",(0,o.kt)("inlineCode",{parentName:"p"},"bind")," set ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," to the absolute path of the\ndirectory on your machine and set ",(0,o.kt)("inlineCode",{parentName:"p"},"dst")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"/data"),", which is the default data\ndirectory in the container's filesystem."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"},"docker run -p 6299:6299 --mount type=bind,src=/data,dst=/data kochavalabs/mazzaroth node start standalone\n")))}h.isMDXComponent=!0}}]);