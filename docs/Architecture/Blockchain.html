<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">Blockchain | Mazzaroth</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mazzaroth.io/docs/docs/Architecture/Blockchain"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Blockchain | Mazzaroth"><meta data-rh="true" name="description" content="Smart Contracts"><meta data-rh="true" property="og:description" content="Smart Contracts"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mazzaroth.io/docs/docs/Architecture/Blockchain"><link data-rh="true" rel="alternate" href="https://mazzaroth.io/docs/docs/Architecture/Blockchain" hreflang="en"><link data-rh="true" rel="alternate" href="https://mazzaroth.io/docs/docs/Architecture/Blockchain" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.a42da5ed.css">
<link rel="preload" href="/docs/assets/js/runtime~main.1e7a28cd.js" as="script">
<link rel="preload" href="/docs/assets/js/main.e898ce58.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/logo.svg" alt="Mazzaroth Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/img/logo.svg" alt="Mazzaroth Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Mazzaroth</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/docs/Getting_Started">Tutorial</a><a class="navbar__item navbar__link" href="/docs/api">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kochavalabs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/Getting_Started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/Account_Creation">Account Creation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/docs/Architecture/Deterministic_Logic">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/Deterministic_Logic">Deterministic Logic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/XDR_Intro">eXternal Data Representation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/Mazzaroth-XDR">Mazzaroth-XDR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/WebAssembly">WebAssembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/Storage">Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Architecture/Data_Structures">Data Structures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docs/Architecture/Blockchain">Blockchain</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/Developer_Tools/Mazzaroth_JS">Developer Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/Tutorials/Install_Mazzaroth">Mazzaroth Tutorials</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/">üè†</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Architecture</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/docs/Architecture/Blockchain">Blockchain</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Blockchain</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="smart-contracts">Smart Contracts<a class="hash-link" href="#smart-contracts" title="Direct link to heading">‚Äã</a></h2><p>A Mazzaroth Smart Contract is a WebAssembly binary that defines the functions
that may be called by transactions submitted to the channel and how data is
stored in state for that channel. There are many different ways to write code
that can be compiled to Web Assembly. The requirement for it to be considered
a Mazzaroth Smart Contract is that it includes a main function and handles the
input object correctly. The way this is done will vary depending on the language
that is being compiled to WebAssembly so it would be helpful to use a library
that provides these features.
See <a href="#Writing-a-Smart-Contract">below</a> for more information about writing contracts.</p><p>A Channel in Mazzaroth can contain a single contract that may be updated by the
Channel owner. Once a Smart Contract has been deployed to a channel other users
may interact with the channel by submitting transactions to call exported functions
of the contract.</p><p>Smart Contracts have access to the Mazzaroth host system interface and can
define how <a href="#State-Database">State</a> gets updated during function execution.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="life-cycle">Life Cycle<a class="hash-link" href="#life-cycle" title="Direct link to heading">‚Äã</a></h3><p>The basic steps of a Transaction&#x27;s lifecycle in Mazzaroth are as follows:</p><p>A transaction is created by a user and is signed by their account or an authorized
account for the sender of the transaction.</p><p>The transactions are submitted to a Gateway Node in the targeted network using the
<code>transactions</code> RPC API endpoint.</p><p>The Gateway Node performs some basic validation, such as checking that the Transaction
is properly signed and includes the proper channel ID. If the Validation succeeds
the Gateway Node will send the Transaction to a Consensus node in the network and
return the Transaction ID in the submit response.</p><p>When a Consensus Node receives a Transaction from a Gateway Node it performs similar
validation on the signature and channel ID, then submits the transaction to the Consensus
protocol. The participating Consensus nodes use a form of the Practical Byzantine
Fault Tolerance (PBFT) consensus protocol to order the transactions that have been
submitted. Once ordering has finalized each Consensus Node will execute the transaction,
update the ledgers, and gossip the transaction back to Gateway Nodes.</p><p>Gateway Nodes that receive transactions from Consensus will queue the transactions
to ensure that they are executed in the correct order. Once they have the next transactions
to execute they will execute them and update their own ledgers.</p><p>A user can use the <code>transactions</code> API with the Transaction ID to check if
a transaction has been finalized.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ledger">Ledger<a class="hash-link" href="#ledger" title="Direct link to heading">‚Äã</a></h2><p>The Ledger is a digital record of blocks and transactions that have been accepted
into the Blockchain. The Blockchain itself can be thought of as a distributed
ledger. Every node keeps its own copy of the ledger.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="blocks">Blocks<a class="hash-link" href="#blocks" title="Direct link to heading">‚Äã</a></h3><p>See XDR definition <a href="https://github.com/kochavalabs/mazzaroth-xdr/blob/master/idl/block.x" target="_blank" rel="noopener noreferrer">here</a>.</p><p>A block contains a block header and a list of transactions. Blocks are stored
in the ledger and are able to be looked up by the block number or by the block
header hash. Each block includes the hash of the previous block header, which
links the two and forms the block chain. See below for a complete list of
fields stored in a Block and Block Header Object along with their description.</p><div class="redocusaurus redocusaurus-schema hide-example"><div class="sc-eCYdqJ dMKOYR"><div class="sc-iBkjds knzwrM"><div class="sc-hKMtZM dntXuc"><table class="sc-hHLeRK efCtIV"><tbody><tr><td class="sc-hAZoDl sc-fEOsli sc-ckMVTt ixNPZE bnZPxp eMaxew" kind="field" title="header"><span class="sc-idiyUo ifCIQd"></span><button aria-label="expand properties"><span>header</span><svg class="sc-evZas iluogZ" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon></svg></button></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">object</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"></div></div></div></td></tr><tr class="last undefined"><td class="sc-hAZoDl sc-fEOsli sc-ckMVTt ixNPZE bnZPxp eMaxew" kind="field" title="transactions"><span class="sc-idiyUo ifCIQd"></span><button aria-label="expand properties"><span>transactions</span><svg class="sc-evZas iluogZ" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon></svg></button></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW">Array of </span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">objects</span><span class="sc-fbPSWO sc-GVOUr sc-jQHtVU wnxRd cBiDFW hsqmIN">[ items<!-- --> ]</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"></div></div></div></td></tr></tbody></table></div><div class="sc-jSMfEi sc-gKXOVf kGJqig jSfEKO"><div class="sc-fctJkW kArFRi"><div class="sc-gFGZVQ bSKoZj"><div class="sc-iNWwEs dlJjsm"><div class="sc-efBctP dztoWg"><button><div class="sc-kgUAyh iKuaTk">Copy</div></button><button> Expand all </button><button> Collapse all </button></div><div class="sc-iAvgwm jKfBJn sc-jfmDQi hlQDxC"><div class="redoc-json"><code><button class="collapser" aria-label="collapse"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable"><span class="property token string">"header"</span>: <button class="collapser" aria-label="collapse"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"blockHeight"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"transactionHeight"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"consensusSequenceNumber"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"txMerkleRoot"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"txReceiptRoot"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"stateRoot"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"previousHeader"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"status"</span>: <span class="token number">0</span></div></li></ul><span class="token punctuation">}</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"transactions"</span>: <button class="collapser" aria-label="collapse"></button><span class="token punctuation">[</span><span class="ellipsis"></span><ul class="array collapsible"><li><div class="hoverable collapsed"><button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"signature"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"sender"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"data"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"channelID"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"nonce"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"blockExpirationNumber"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"category"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"enum"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"value"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"function"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"parameters"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">[</span><span class="ellipsis"></span><ul class="array collapsible"><li><div class="hoverable collapsed"><span class="token string">&quot;string&quot;</span></div></li></ul><span class="token punctuation">]</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">]</span></div></li></ul><span class="token punctuation">}</span></code></div></div></div></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">‚Äã</a></h3><p>See XDR definition <a href="https://github.com/kochavalabs/mazzaroth-xdr/blob/master/idl/transaction.x" target="_blank" rel="noopener noreferrer">here</a>.</p><p>A transaction contains an action, which gets processed by the
Mazzaroth Virtual Machine (RothVM) on a channel. This can do things such as
Update a Contract, Call a Function, or set permissions on an account.
After a write transaction has gone through consensus and
has been executed within the RothVM it is added to the ledger. Once a
transaction has been added to the ledger it may be retrieved by using the
transaction ID which is the unique hash of the Transaction object itself.
It must be signed by either the sending account owner or an
authorized signer for an account. See below for a list of the fields and
descriptions stored in a Transaction Object.</p><div class="redocusaurus redocusaurus-schema hide-example"><div class="sc-eCYdqJ dMKOYR"><div class="sc-iBkjds knzwrM"><div class="sc-hKMtZM dntXuc"><table class="sc-hHLeRK efCtIV"><tbody><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="signature"><span class="sc-idiyUo ifCIQd"></span><span>signature</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The 128 character hex representation of a 64 byte Ed25519 signature created by signing the action XDR object.</p>
</div></div></div></td></tr><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="sender"><span class="sc-idiyUo ifCIQd"></span><span>sender</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The 64 character hex representation of a 32 byte Ed25519 public key of the sender for the transaction.</p>
</div></div></div></td></tr><tr class="last undefined"><td class="sc-hAZoDl sc-fEOsli sc-ckMVTt ixNPZE bnZPxp eMaxew" kind="field" title="data"><span class="sc-idiyUo ifCIQd"></span><button aria-label="expand properties"><span>data</span><svg class="sc-evZas iluogZ" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon></svg></button></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">object</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"></div></div></div></td></tr></tbody></table></div><div class="sc-jSMfEi sc-gKXOVf kGJqig jSfEKO"><div class="sc-fctJkW kArFRi"><div class="sc-gFGZVQ bSKoZj"><div class="sc-iNWwEs dlJjsm"><div class="sc-efBctP dztoWg"><button><div class="sc-kgUAyh iKuaTk">Copy</div></button><button> Expand all </button><button> Collapse all </button></div><div class="sc-iAvgwm jKfBJn sc-jfmDQi hlQDxC"><div class="redoc-json"><code><button class="collapser" aria-label="collapse"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable"><span class="property token string">"signature"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"sender"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"data"</span>: <button class="collapser" aria-label="collapse"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"channelID"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"nonce"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"blockExpirationNumber"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"category"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"enum"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"value"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable collapsed"><span class="property token string">"function"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable collapsed"><span class="property token string">"parameters"</span>: <button class="collapser" aria-label="expand"></button><span class="token punctuation">[</span><span class="ellipsis"></span><ul class="array collapsible"><li><div class="hoverable collapsed"><span class="token string">&quot;string&quot;</span></div></li></ul><span class="token punctuation">]</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></div></li></ul><span class="token punctuation">}</span></code></div></div></div></div></div></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="contract">Contract<a class="hash-link" href="#contract" title="Direct link to heading">‚Äã</a></h4><p>Transactions may also be used to update the Contract state of a channel. A
channel can only have one contract that defines the functions available. The
contract is set by the owner through a Deploy Transaction. See the
<a href="#Contract-Object">Contract Object</a> above for an example of how this field can be
set on a transaction.</p><p>Example Deploy Transaction JSON:</p><div class="codeBlockContainer_I0IT language-JSON theme-code-block"><div class="codeBlockContent_wNvx JSON"><pre tabindex="0" class="prism-code language-JSON codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;sender&quot;: &quot;3b6a27bcceb6a42d62a3a8d02a6f0d73653215771de243a63ac048a18b59da29&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;signature&quot;: &quot;41673b6ca7d17463a722ce6c2b9c0e5f68bf6f4d085530476c60341e11eb926305ea9730884a7807faf2484a5e6e8cef566479eea21628fcb3da2f48ab235bf3&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;channelID&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;nonce&quot;: &quot;5304039207213195818&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;blockExpirationNumber&quot;: &quot;100&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;category&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;type&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: &quot;0.0.1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;owner&quot;: &quot;3b6a27bcceb6a42d62a3a8d02a6f0d73653215771de243a63ac048a18b59da29&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;abi&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;version&quot;: &quot;0.8.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;functions&quot;: [],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;contractHash&quot;: &quot;6f5a561f67c1e874140ef682914e616a422fd336b67576709738876ca37080d1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;contractBytes&quot;: &quot;contract bytes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="receipts">Receipts<a class="hash-link" href="#receipts" title="Direct link to heading">‚Äã</a></h3><p>See XDR definition <a href="https://github.com/kochavalabs/mazzaroth-xdr/blob/master/idl/receipt.x" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Receipts are the stored results from the execution of a transaction.
Receipts for every transaction that is accepted by Consensus are stored, along
with the transaction itself, in the ledger. Receipts may be looked up by the
Transaction ID use the Mazzaroth RPC API on a Gateway node.</p><div class="redocusaurus redocusaurus-schema hide-example"><div class="sc-eCYdqJ dMKOYR"><div class="sc-iBkjds knzwrM"><div class="sc-hKMtZM dntXuc"><table class="sc-hHLeRK efCtIV"><tbody><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="transactionID"><span class="sc-idiyUo ifCIQd"></span><span>transactionID</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The ID (64 character hex hash) of the transaction for this receipt.</p>
</div></div></div></td></tr><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="status"><span class="sc-idiyUo ifCIQd"></span><span>status</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">integer</span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC"> <!-- -->&lt;<!-- -->int64<!-- -->&gt;<!-- --> </span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The enum status of the transaction execution (0 = Unknown, 1 = Success, 2 = Failure)</p>
</div></div></div></td></tr><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="stateRoot"><span class="sc-idiyUo ifCIQd"></span><span>stateRoot</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The 64 character hex hash of the state DB root after transaction execution.</p>
</div></div></div></td></tr><tr><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="statusInfo"><span class="sc-idiyUo ifCIQd"></span><span>statusInfo</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>Max length 256 char string with some information about the transaction status.</p>
</div></div></div></td></tr><tr class="last undefined"><td class="sc-hAZoDl sc-fEOsli ixNPZE bnZPxp" kind="field" title="result"><span class="sc-idiyUo ifCIQd"></span><span>result</span></td><td class="sc-bjUoiL kgxNif"><div><div><span class="sc-fbPSWO sc-GVOUr wnxRd cBiDFW"></span><span class="sc-fbPSWO sc-fXynhf wnxRd kzIupC">string</span></div> <div><div class="sc-iAvgwm sc-cOFTSb jKfBJn delqKS"><p>The JSON return value from the transaction execution.</p>
</div></div></div></td></tr></tbody></table></div><div class="sc-jSMfEi sc-gKXOVf kGJqig jSfEKO"><div class="sc-fctJkW kArFRi"><div class="sc-gFGZVQ bSKoZj"><div class="sc-iNWwEs dlJjsm"><div class="sc-efBctP dztoWg"><button><div class="sc-kgUAyh iKuaTk">Copy</div></button><button> Expand all </button><button> Collapse all </button></div><div class="sc-iAvgwm jKfBJn sc-jfmDQi hlQDxC"><div class="redoc-json"><code><button class="collapser" aria-label="collapse"></button><span class="token punctuation">{</span><span class="ellipsis"></span><ul class="obj collapsible"><li><div class="hoverable"><span class="property token string">"transactionID"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"status"</span>: <span class="token number">0</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"stateRoot"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"statusInfo"</span>: <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span></div></li><li><div class="hoverable"><span class="property token string">"result"</span>: <span class="token string">&quot;string&quot;</span></div></li></ul><span class="token punctuation">}</span></code></div></div></div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="state-database">State Database<a class="hash-link" href="#state-database" title="Direct link to heading">‚Äã</a></h2><p>The Mazzaroth Virtual Machine (RothVM) contains a State Database that stores all
of the data necessary for the channel. The Database is used to store and access
objects for a channel and is backed by a Merkle Tree. The State DB may get updated
as a result of Transaction execution, such as by updating the Contract store in state
or by executing a contract function that stores a value. The Merkle root of the
State DB is stored in block headers when blocks are finalized.</p><p>There are a number of different items that are stored in the StateDB including
the Contract binary and general Contract State.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="contract-state">Contract State<a class="hash-link" href="#contract-state" title="Direct link to heading">‚Äã</a></h3><p>The Contract itself is stored in state along with its version number. The
Contract Object fields are defined below. When a Contract is deployed to the
channel it no only updates the Virtual Machine to use the new binary, but it also
updates state. This is useful as a way to know that nodes have the exact same
copy of the contract, because if a different contract was stored in a node&#x27;s state
it would have a different state root value. See the <a href="#Contract-Object">Contract Object</a>
above for more information on the fields within the Contract Object.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/kochavalabs/docs/tree/main/../docs/3-Architecture/7-Blockchain.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/Architecture/Data_Structures"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Structures</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/docs/Developer_Tools/Mazzaroth_JS"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mazzaroth-js</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#smart-contracts" class="table-of-contents__link toc-highlight">Smart Contracts</a><ul><li><a href="#life-cycle" class="table-of-contents__link toc-highlight">Life Cycle</a></li></ul></li><li><a href="#ledger" class="table-of-contents__link toc-highlight">Ledger</a><ul><li><a href="#blocks" class="table-of-contents__link toc-highlight">Blocks</a></li><li><a href="#transactions" class="table-of-contents__link toc-highlight">Transactions</a></li><li><a href="#receipts" class="table-of-contents__link toc-highlight">Receipts</a></li></ul></li><li><a href="#state-database" class="table-of-contents__link toc-highlight">State Database</a><ul><li><a href="#contract-state" class="table-of-contents__link toc-highlight">Contract State</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/docs/Getting_Started">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/kochavaofficial" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/kochavalabs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Mazzaroth</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.1e7a28cd.js"></script>
<script src="/docs/assets/js/main.e898ce58.js"></script>
</body>
</html>